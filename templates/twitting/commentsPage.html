<head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'twitting/twittPage.css' %}">
    <link rel="script" href="{% static 'twitting/Comment.js' %}">


    <!-- Include Editor style. -->
    <link href='https://cdn.jsdelivr.net/npm/froala-editor@3.1.0/css/froala_editor.pkgd.min.css' rel='stylesheet'
          type='text/css'/>

    <!-- Include JS file. -->
    <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/froala-editor@3.1.0/js/froala_editor.pkgd.min.js'>
    </script>


    <style>
        body {
            background-color: #d7e9fa69;
        }
    </style>
</head>


<body>
<div class="comments-container">
    <h1>{{ tittle }} <a href="http://creaticode.com">creaticode.com</a></h1>

    <ul id="comments-list" class="comments-list">

        {% for comment in comments %}
            {{ comment.id }}
            <li>

                <div class="comment-main-level">
                    <!-- Avatar -->
                    <div class="comment-avatar"><img
                            src="{{ comment.author.avatar }}" alt="">
                    </div>

                    <div class="comment-box">
                        <div class="comment-head">
                            <h6 class="comment-name by-author"><a
                                    href="http://creaticode.com/blog">{{ comment.author.name }}</a>
                            </h6>
                            <div class="state">
                                {{ comment.author.state }}
                            </div>
                            <span>{{ comment.time }}</span>
                            <i class="fa fa-reply"></i>
                            <i class="fa fa-heart"></i>
                        </div>
                        <div class="comment-content" id="{{ comment.id }}">
                            {{ comment.content }}
                        </div>

                    </div>
                </div>

                <ul class="comments-list reply-list">
                    {% for reply in comment.replys %}
                        {{ reply.id }}

                        <li>
                            <!-- Avatar -->
                            <div class="comment-avatar"><img
                                    src="{{ reply.author.avatar }}"
                                    alt="">
                            </div>
                            <!-- Contenedor del Comentario -->
                            <div class="comment-box">
                                <div class="comment-head">
                                    <h6 class="comment-name"><a
                                            href="http://creaticode.com/blog">{{ reply.author.name }}</a>
                                    </h6>
                                    <span>{{ reply.time }}</span>
                                    <i class="fa fa-reply"></i>
                                    <i class="fa fa-heart"></i>
                                </div>
                                <div class="comment-content" id="{{ reply.id }}">
                                    {{ reply.content }}
                                </div>
                            </div>
                        </li>
                    {% endfor %}

                </ul>
            </li>

        {% endfor %}

    </ul>
</div>
<script>
    class Comment {
        constructor(comment) {
            // let container = document.getElementById(comment.id);
            var editor = new FroalaEditor('#' + comment, {
                attribution: false,
                charCounterCount: false,
                toolbarInline: true,
            });
        }
    }


    {% for comment in comments %}
        console.log('{{ comment.id }}')
        new Comment('{{ comment.id }}');
        {% for reply in comment.replys %}
            console.log('{{ reply.id }}')
            new Comment('{{ reply.id }}');
        {% endfor %}

    {% endfor %}
</script>

</body>


